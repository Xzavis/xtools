<!-- Mobile Header -->
<div class="mobile-header">
    <div class="mobile-brand">
        <div class="brand-logo">
            <i class="fa-solid fa-layer-group"></i>
        </div>
        <span class="brand-name">Xtools</span>
    </div>
    <button class="mobile-menu-btn" onclick="toggleSidebar()">
        <i class="fa-solid fa-bars"></i>
    </button>
</div>

<!-- Sidebar Overlay -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

<!-- Sidebar -->
<aside class="sidebar" id="sidebarMenu">
    <!-- Brand -->
    <div class="sidebar-brand">
        <div class="brand-logo">
            <i class="fa-solid fa-layer-group"></i>
        </div>
        <div class="brand-info">
            <span class="brand-name">Xtools</span>
            <span class="brand-version">v3.0</span>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="sidebar-nav">
        <!-- System Section -->
        <div class="nav-section">
            <span class="nav-section-title">System</span>
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="/" class="nav-link {% if active_page == 'dashboard' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-terminal"></i>
                        </span>
                        <span class="nav-text">Operations</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/file_manager" class="nav-link {% if active_page == 'file_manager' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-folder-tree"></i>
                        </span>
                        <span class="nav-text">Explorer</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- AI Operations Section -->
        <div class="nav-section">
            <span class="nav-section-title">AI Operations</span>
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="/hf_downloader" class="nav-link {% if active_page == 'hf_downloader' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-cloud-arrow-down"></i>
                        </span>
                        <span class="nav-text">Model Hub</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/intelligence/model" class="nav-link {% if active_page == 'intel_model' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-microscope"></i>
                        </span>
                        <span class="nav-text">Inspector</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/intelligence/dataset" class="nav-link {% if active_page == 'intel_dataset' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-broom"></i>
                        </span>
                        <span class="nav-text">Sanitizer</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/data_preparation" class="nav-link {% if active_page == 'data_prep' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-filter"></i>
                        </span>
                        <span class="nav-text">Data Prep</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/intelligence/rag" class="nav-link {% if active_page == 'intel_rag' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-layer-group"></i>
                        </span>
                        <span class="nav-text">RAG Architect</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/compute/vram" class="nav-link {% if active_page == 'compute_vram' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-microchip"></i>
                        </span>
                        <span class="nav-text">VRAM Calc</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- Utilities Section -->
        <div class="nav-section">
            <span class="nav-section-title">Utilities</span>
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="/converter" class="nav-link {% if active_page == 'converter' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-shuffle"></i>
                        </span>
                        <span class="nav-text">Converter</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/pastebin" class="nav-link {% if active_page == 'pastebin' %}active{% endif %}">
                        <span class="nav-icon">
                            <i class="fa-solid fa-file-lines"></i>
                        </span>
                        <span class="nav-text">Snippet Lab</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Sidebar Footer -->
    <div class="sidebar-footer">
        <div class="status-indicator">
            <span class="status-dot"></span>
            <span class="status-text">System Online</span>
        </div>
    </div>
</aside>

<style>
    /* Mobile Header */
    .mobile-header {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 64px;
        background: var(--color-bg-surface);
        border-bottom: 1px solid var(--color-border);
        padding: 0 var(--space-lg);
        align-items: center;
        justify-content: space-between;
        z-index: 1000;
    }

    .mobile-brand {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }

    .mobile-menu-btn {
        width: 40px;
        height: 40px;
        border: none;
        background: var(--color-bg-main);
        border-radius: var(--radius-md);
        color: var(--color-text-main);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s ease;
    }

    .mobile-menu-btn:hover {
        background: var(--color-border);
    }

    /* Sidebar Overlay */
    .sidebar-overlay {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1099;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .sidebar-overlay.active {
        display: block;
        opacity: 1;
    }

    /* Sidebar */
    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 280px;
        height: 100vh;
        background: var(--color-bg-surface);
        border-right: 1px solid var(--color-border);
        display: flex;
        flex-direction: column;
        z-index: 1100;
        transition: transform 0.3s ease;
    }

    /* Brand */
    .sidebar-brand {
        display: flex;
        align-items: center;
        gap: var(--space-md);
        padding: var(--space-xl);
        border-bottom: 1px solid var(--color-border);
    }

    .brand-logo {
        width: 44px;
        height: 44px;
        background: var(--gradient-primary);
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.25rem;
        box-shadow: 0 0 20px rgba(203, 60, 255, 0.4);
    }

    .brand-info {
        display: flex;
        flex-direction: column;
    }

    .brand-name {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--color-text-main);
        line-height: 1.2;
    }

    .brand-version {
        font-size: 0.75rem;
        color: var(--color-text-muted);
        font-weight: 500;
    }

    /* Navigation */
    .sidebar-nav {
        flex: 1;
        overflow-y: auto;
        padding: var(--space-lg) 0;
    }

    .nav-section {
        margin-bottom: var(--space-lg);
        padding: 0 var(--space-md);
    }

    .nav-section-title {
        display: block;
        font-size: 0.6875rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: var(--color-primary);
        padding: 0 var(--space-md);
        margin-bottom: var(--space-sm);
    }

    .nav-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .nav-item {
        margin-bottom: 2px;
    }

    .nav-link {
        display: flex;
        align-items: center;
        gap: var(--space-md);
        padding: var(--space-sm) var(--space-md);
        border-radius: var(--radius-md);
        color: var(--color-text-muted);
        text-decoration: none;
        font-weight: 500;
        font-size: 0.9375rem;
        transition: all 0.2s ease;
    }

    .nav-link:hover {
        background: var(--color-bg-elevated);
        color: var(--color-text-main);
    }

    .nav-link.active {
        background: var(--gradient-primary);
        color: white;
        font-weight: 600;
        box-shadow: 0 0 20px rgba(203, 60, 255, 0.3);
    }

    .nav-icon {
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--radius-md);
        font-size: 1.125rem;
        transition: all 0.2s ease;
    }

    .nav-link:hover .nav-icon {
        background: rgba(203, 60, 255, 0.15);
        color: var(--color-primary);
    }

    .nav-link.active .nav-icon {
        background: rgba(255, 255, 255, 0.2);
        color: white;
    }

    .nav-text {
        flex: 1;
    }

    /* Sidebar Footer */
    .sidebar-footer {
        padding: var(--space-lg);
        border-top: 1px solid var(--color-border);
    }

    .status-indicator {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        padding: var(--space-sm) var(--space-md);
        background: var(--color-bg-main);
        border-radius: var(--radius-full);
    }

    .status-dot {
        width: 8px;
        height: 8px;
        background: var(--color-success);
        border-radius: 50%;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }

    .status-text {
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--color-text-muted);
    }

    /* Responsive */
    @media (max-width: 992px) {
        .mobile-header {
            display: flex;
        }

        .sidebar {
            transform: translateX(-100%);
        }

        .sidebar.active {
            transform: translateX(0);
        }

        .main-content {
            margin-left: 0;
            margin-top: 64px;
        }
    }
</style>

<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebarMenu');
        const overlay = document.getElementById('sidebarOverlay');
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
    }
</script>
